<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui" xmlns:o="http://omnifaces.org/ui">

<ui:composition template="/layout/cadastro/Cadastrar.xhtml">

	<ui:define name="titulo">
		<h1>Cadastro de aluno</h1>

		<div id="btnVoltar" style="margin-bottom: 10px; margin-top: 10px;">
			<h:form id="frmBtnConsultaAluno">
				<p:commandButton value="Ir para consulta de alunos" ajax="false"
					actionListener="#{navegacaoController.consultaAluno}" />
			</h:form>
		</div>

	</ui:define>

	<ui:define name="conteudo">
		<h:form id="cadastroAlunoForm">

			<p:messages id="msg" autoUpdate="true" />

			<p:inputText id="codigo" value="#{alunoController.aluno.id}"
				label="Código" type="hidden"></p:inputText>

			<div align="center">
				<h:panelGrid columns="2" style="text-align: center">
					<p:outputLabel for="nome" value="Nome: " />
					<p:inputText value="#{alunoController.aluno.nomeCompleto}"
						label="Nome" id="nome">
					</p:inputText>

					<p:outputLabel for="cpf" value="CPF: " />
					<p:inputMask value="#{alunoController.aluno.cpf}" label="CPF"
						id="cpf" mask="999.999.999-99" size="11" maxlength="14"/>

					<p:outputLabel for="sexo" value="Sexo: " />
					<p:selectOneMenu id="sexo" label="Sexo"
						value="#{alunoController.aluno.sexo}">
						<f:selectItem itemLabel="Selecione" />
						<f:selectItems value="#{alunoController.sexo}" var="sexo"
							itemLabel="#{sexo.descricao}" itemValue="#{sexo}" />
					</p:selectOneMenu>

					<p:outputLabel for="data" value="Data de nascimento: " />
					<p:calendar value="#{alunoController.aluno.dataNascimento}"
						label="Data de nascimento" id="data"
						validator="#{verificarDataNascimentoPessoaValidator.validate}"
						pattern="dd/MM/yyyy" timeZone="America/Sao_Paulo"
						readonlyInput="true" navigator="true">
					</p:calendar>

					<p:outputLabel for="numero" value="Número de matrícula: " />
					<p:inputText value="#{alunoController.aluno.numeroMatricula}"
						maxlength="11" label="Número de matrícula" id="numero"
						validator="#{verificarNumeroAlunoValidator.validate}">
					</p:inputText>

					<p:outputLabel for="turma" value="Turma: " />
					<p:selectOneMenu id="turma" value="#{alunoController.aluno.turma}"
						label="Turma" converter="#{turmaConverter}" validator="#{verificarTurmaAlunoValidator.validate}" >
						<f:selectItem itemLabel="Selecione" />
						<f:selectItems value="#{alunoController.turmasConsultaAlunos}"
							var="turma" itemLabel="#{turma.nomeTurma}, #{turma.turno.descricao}"
							itemValue="#{turma}" />
					</p:selectOneMenu>

					<p:commandButton value="Novo" action="#{alunoController.novo}"
						ajax="false" update="@form" style="width:100%;">
						<o:skipValidators />
					</p:commandButton>

					<p:commandButton value="Cadastrar Aluno" style="width:100%;"
						action="#{alunoController.cadastrar}" ajax="false" update="@form" />


				</h:panelGrid>
			</div>
		</h:form>

	</ui:define>

</ui:composition>
</html>
